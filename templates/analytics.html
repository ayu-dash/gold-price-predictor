{% extends "base.html" %}

{% block title %}Annual Analytics | Gold Futures Pro{% endblock %}

{% block header_title %}Annual Gold Performance{% endblock %}

{% block loading_text %}Gathering Annual Market Data...{% endblock %}

{% block content %}
<div class="grid-container">
    <!-- ROI Chart -->
    <div class="card chart-card glass grid-span-2">
        <div class="card-header">Year-over-Year ROI Performance (%)</div>
        <div class="chart-container">
            <canvas id="roiChart"></canvas>
        </div>
    </div>

    <!-- Accuracy Scorecard Card -->
    <div class="card glass">
        <div class="card-header">AI Model Accuracy Scorecard</div>
        <div class="scorecard-container">
            <div class="score-main" style="text-align: center; margin: 15px 0;">
                <div class="score-value" id="metric_accuracy"
                    style="font-size: 2.5rem; font-weight: 700; color: var(--gold);">--%</div>
                <div class="score-label" style="color: var(--text-muted); font-size: 0.9rem;">Predictive Accuracy</div>
            </div>
            <div class="score-details analytics-metrics" id="score_details">
                <div class="metric-item">
                    <span class="label">Reliability Index:</span>
                    <span id="metric_reliability" class="value text-gold">Calculating...</span>
                </div>
                <div class="metric-item">
                    <span class="label">Avg Prediction Error (MAE):</span>
                    <span id="metric_mae" class="value">--</span>
                </div>
                <div class="metric-item">
                    <span class="label">Data Samples Covered:</span>
                    <span id="metric_coverage" class="value">--</span>
                </div>
                <div class="metric-item">
                    <span class="label">Last Optimization:</span>
                    <span id="metric_timestamp" class="value" style="font-size: 0.75rem;">--</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Yearly Breakdown Table -->
    <div class="card glass grid-span-full">
        <div class="card-header">Yearly Historical Performance (IDR/Gram)</div>
        <div class="forecast-table-container">
            <table class="forecast-table">
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Jan 1st (Opening Price)</th>
                        <th>Dec 31st (Closing Price)</th>
                        <th>Annual High (IDR/g)</th>
                        <th>Annual Low (IDR/g)</th>
                        <th>Annual Net ROI (%)</th>
                    </tr>
                </thead>
                <tbody id="yearly_body">
                    <tr>
                        <td colspan="6" class="text-center">Synchronizing annual historical data...</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
{% endblock %}